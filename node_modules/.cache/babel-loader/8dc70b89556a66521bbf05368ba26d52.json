{"ast":null,"code":"import _slicedToArray from\"C:/Users/ADMIN/Desktop/BaiHocReactjs/reactjs_bai5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Tabs,Radio,Space}from'antd';import{useFormik}from'formik';import{CapNhatNguoiDungAction,thongTinTaiKhoanAction}from'../../redux/actions/QuanLyNguoiDungAction';import{useDispatch,useSelector}from'react-redux';import{useTranslation}from'react-i18next';import{GROUPID}from'../../util/settings/config';import*as Yup from'yup';import Swal from'sweetalert2';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TabPane=Tabs.TabPane;export default function Profile(props){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.QuanLyNguoiDungReducer;}),thongTinTaiKhoan=_useSelector.thongTinTaiKhoan,userLogin=_useSelector.userLogin,key=_useSelector.key;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),disabled=_useState2[0],setDisabled=_useState2[1];var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;useEffect(function(){dispatch(thongTinTaiKhoanAction());},[]);var SignupSchema=Yup.object().shape({hoTen:Yup.string().required('Bạn chưa điền họ tên').min(2,'Kí tự tên quá ngắn!').max(50,'Kí tự tên quá dài!'),taiKhoan:Yup.string().required('Bạn chưa điền tài khoản').min(2,'Kí tự tài khoản quá ngắn!').max(50,'Kí tự tài khoản quá dài!'),matKhau:Yup.string().required('Bạn chưa điền mật khẩu').min(5,'Kí tự mật khẩu quá ngắn!').max(50,'Kí tự mật khẩu quá dài!'),email:Yup.string().required('Bạn chưa điền email').email('Email không dúng!'),soDt:Yup.string().required('Bạn chưa điền số điện thoại').matches(/^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/,\"Số điện thoại không đúng\"),xacNhanMatKhau:Yup.string().oneOf([Yup.ref('matKhau'),null],'Mật khẩu xác nhận không đúng!')});var formik=useFormik({enableReinitialize:true,initialValues:{taiKhoan:thongTinTaiKhoan===null||thongTinTaiKhoan===void 0?void 0:thongTinTaiKhoan.taiKhoan,matKhau:thongTinTaiKhoan===null||thongTinTaiKhoan===void 0?void 0:thongTinTaiKhoan.matKhau,hoTen:thongTinTaiKhoan===null||thongTinTaiKhoan===void 0?void 0:thongTinTaiKhoan.hoTen,email:thongTinTaiKhoan===null||thongTinTaiKhoan===void 0?void 0:thongTinTaiKhoan.email,soDt:thongTinTaiKhoan===null||thongTinTaiKhoan===void 0?void 0:thongTinTaiKhoan.soDT,maNhom:GROUPID,maLoaiNguoiDung:userLogin.maLoaiNguoiDung,xacNhanMatKhau:''},validationSchema:SignupSchema,onSubmit:function onSubmit(values){Swal.fire({icon:'question',title:'Cập nhật!',text:'Bạn có muốn cập nhật thông tin tài khoản!',showCancelButton:true,confirmButtonText:'Ok',cancelButtonText:'Không'}).then(function(info){if(info.isConfirmed){dispatch(CapNhatNguoiDungAction(values));}});;},onReset:function onReset(values){console.log(values);}});var handleChangepass=function handleChangepass(e){e.preventDefault();if(formik.errors.matKhau){return;}else{Swal.fire({icon:'question',title:'Đổi mật khẩu!',text:'Bạn có muốn đổi mật khẩu!',showCancelButton:true,confirmButtonText:'Ok',cancelButtonText:'Không'}).then(function(info){if(info.isConfirmed){dispatch(CapNhatNguoiDungAction(formik.values));}});;}};var handleBlur=function handleBlur(){setDisabled(false);};var disabledClass=disabled?'disable-btn cursor-not-allowed':'';return/*#__PURE__*/_jsx(\"div\",{style:{height:550,margin:\"65px\",padding:\"30px\",backgroundColor:'white',borderRadius:20},className:\"profile\",children:/*#__PURE__*/_jsxs(Tabs,{tabPosition:\"left\",activeKey:key,onChange:function onChange(key){dispatch({type:'CHANGE_KEY',key:key});},children:[/*#__PURE__*/_jsx(TabPane,{tab:/*#__PURE__*/_jsx(\"div\",{style:{textTransform:'uppercase',fontSize:14},className:\"text-gray-600 font-semibold \",children:t('profile.thongtintaikhoan')}),children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"w-full max-w-lg\",onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:t('profile.thongtintaikhoan')}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap -mx-3 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-1/2 px-3 mb-6 md:mb-0\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\",htmlFor:\"grid-first-name\",children:t('profile.hoten')}),/*#__PURE__*/_jsx(\"input\",{name:\"hoTen\",onChange:formik.handleChange,onBlur:handleBlur,value:formik.values.hoTen,className:\"appearance-none block w-full bg-gray-200 text-gray-700 border  rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\",id:\"grid-first-name\",type:\"text\",placeholder:\"Jane\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs italic\",children:formik.errors.hoTen})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-1/2 px-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\",htmlFor:\"grid-last-name\",children:t('profile.email')}),/*#__PURE__*/_jsx(\"input\",{value:formik.values.email,onBlur:handleBlur,name:\"email\",onChange:formik.handleChange,className:\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",id:\"grid-last-name\",type:\"text\",placeholder:\"Doe@gmail.com\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs italic\",children:formik.errors.email})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap -mx-3 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-1/2 px-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\",htmlFor:\"grid-password\",children:t('profile.taikhoan')}),/*#__PURE__*/_jsx(\"input\",{onBlur:handleBlur,value:formik.values.taiKhoan,name:\"taiKhoan\",onChange:formik.handleChange,disabled:\"true\",className:\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",id:\"grid-password\",type:\"text\",placeholder:\"HelloTix123\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-xs italic\",children:\"Kh\\xF4ng th\\u1EC3 ch\\u1EC9nh s\\u1EEDa\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-1/2 px-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\",htmlFor:\"grid-last-name\",children:t('profile.sodienthoai')}),/*#__PURE__*/_jsx(\"input\",{onBlur:handleBlur,value:formik.values.soDt,name:\"soDt\",onChange:formik.handleChange,className:\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",id:\"grid-last-name\",type:\"number\",placeholder:\"08659525\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs italic\",children:formik.errors.soDt})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"md:w-2/3 text-center\",children:/*#__PURE__*/_jsx(\"button\",{disabled:disabled,className:\"shadow bg-yellow-600  focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded \".concat(disabledClass),type:\"submit\",children:t('profile.update')})})]})})},\"1\"),/*#__PURE__*/_jsx(TabPane,{tab:/*#__PURE__*/_jsx(\"div\",{style:{textTransform:'uppercase',fontSize:14},className:\"text-gray-600 font-semibold\",children:t('profile.doimatkhau')}),children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"w-full max-w-lg\",onSubmit:handleChangepass,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:t('profile.doimatkhau')}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap -mx-3 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:w-full w-1/2 px-3 mb-6 md:mb-0\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\",htmlFor:\"grid-first-name\",children:t('profile.matkhaucu')}),/*#__PURE__*/_jsx(\"input\",{disabled:true,name:\"hoTen\",onChange:formik.handleChange,value:thongTinTaiKhoan.matKhau,className:\"appearance-none block w-full bg-gray-200 text-gray-700 border  rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\",id:\"grid-first-name\",type:\"text\",placeholder:\"Jane\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-xs italic\",children:[\" \",t('profile.khongthechinhsua')]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:w-full w-1/2 px-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\",htmlFor:\"grid-last-name\",children:t('profile.matkhaumoi')}),/*#__PURE__*/_jsx(\"input\",{name:\"matKhau\",onChange:formik.handleChange,className:\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",id:\"grid-last-name\",type:\"password\",placeholder:\"*************\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs italic\",children:formik.errors.matKhau})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:w-full w-1/2 px-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\",htmlFor:\"grid-last-name\",children:t('profile.xacnhanmatkhau')}),/*#__PURE__*/_jsx(\"input\",{name:\"xacNhanMatKhau\",onChange:formik.handleChange,className:\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",id:\"grid-last-name\",type:\"password\",placeholder:\"*************\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs italic\",children:formik.errors.xacNhanMatKhau})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"md:w-2/3 text-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"shadow bg-yellow-600  focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded\",type:\"submit\",children:t('profile.doimatkhau')})})]})})},'2')]})});}","map":{"version":3,"sources":["C:/Users/ADMIN/Desktop/BaiHocReactjs/reactjs_bai5/src/pages/Profile/Profile.js"],"names":["React","useEffect","useState","Tabs","Radio","Space","useFormik","CapNhatNguoiDungAction","thongTinTaiKhoanAction","useDispatch","useSelector","useTranslation","GROUPID","Yup","Swal","TabPane","Profile","props","dispatch","state","QuanLyNguoiDungReducer","thongTinTaiKhoan","userLogin","key","disabled","setDisabled","t","i18n","SignupSchema","object","shape","hoTen","string","required","min","max","taiKhoan","matKhau","email","soDt","matches","xacNhanMatKhau","oneOf","ref","formik","enableReinitialize","initialValues","soDT","maNhom","maLoaiNguoiDung","validationSchema","onSubmit","values","fire","icon","title","text","showCancelButton","confirmButtonText","cancelButtonText","then","info","isConfirmed","onReset","console","log","handleChangepass","e","preventDefault","errors","handleBlur","disabledClass","height","margin","padding","backgroundColor","borderRadius","type","textTransform","fontSize","handleSubmit","handleChange"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Tabs, Radio, Space } from 'antd';\r\nimport { useFormik } from 'formik';\r\nimport { CapNhatNguoiDungAction, thongTinTaiKhoanAction } from '../../redux/actions/QuanLyNguoiDungAction';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { GROUPID } from '../../util/settings/config';\r\nimport * as Yup from 'yup';\r\nimport Swal from 'sweetalert2';\r\nconst { TabPane } = Tabs;\r\nexport default function Profile(props) {\r\n    const dispatch = useDispatch();\r\n    const { thongTinTaiKhoan, userLogin, key } = useSelector(state => state.QuanLyNguoiDungReducer);\r\n    const [ disabled, setDisabled ] = useState(true);\r\n    const { t, i18n } = useTranslation();\r\n    useEffect(() => {\r\n        dispatch(thongTinTaiKhoanAction());\r\n    }, []);\r\n    const SignupSchema = Yup.object().shape({\r\n        hoTen: Yup.string()\r\n            .required('Bạn chưa điền họ tên').min(2, 'Kí tự tên quá ngắn!')\r\n            .max(50, 'Kí tự tên quá dài!'),\r\n        taiKhoan: Yup.string()\r\n            .required('Bạn chưa điền tài khoản').min(2, 'Kí tự tài khoản quá ngắn!')\r\n            .max(50, 'Kí tự tài khoản quá dài!'),\r\n        matKhau: Yup.string()\r\n            .required('Bạn chưa điền mật khẩu').min(5, 'Kí tự mật khẩu quá ngắn!')\r\n            .max(50, 'Kí tự mật khẩu quá dài!'),\r\n        email: Yup.string()\r\n            .required('Bạn chưa điền email').email('Email không dúng!'),\r\n        soDt: Yup.string().required('Bạn chưa điền số điện thoại').matches(\r\n            /^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/,\r\n            \"Số điện thoại không đúng\"\r\n        ),\r\n        xacNhanMatKhau: Yup.string()\r\n            .oneOf([ Yup.ref('matKhau'), null ], 'Mật khẩu xác nhận không đúng!')\r\n    });\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n            taiKhoan: thongTinTaiKhoan?.taiKhoan,\r\n            matKhau: thongTinTaiKhoan?.matKhau,\r\n            hoTen: thongTinTaiKhoan?.hoTen,\r\n            email: thongTinTaiKhoan?.email,\r\n            soDt: thongTinTaiKhoan?.soDT,\r\n            maNhom: GROUPID,\r\n            maLoaiNguoiDung: userLogin.maLoaiNguoiDung,\r\n            xacNhanMatKhau: ''\r\n        },\r\n        validationSchema: SignupSchema,\r\n        onSubmit: (values) => {\r\n            Swal.fire({\r\n                icon: 'question',\r\n                title: 'Cập nhật!',\r\n                text: 'Bạn có muốn cập nhật thông tin tài khoản!',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Ok',\r\n                cancelButtonText: 'Không'\r\n            }).then((info) => {\r\n                if (info.isConfirmed) {\r\n                    dispatch(CapNhatNguoiDungAction(values));\r\n                }\r\n\r\n            });\r\n            ;\r\n\r\n        },\r\n        onReset: (values) => {\r\n            console.log(values);\r\n\r\n        }\r\n\r\n\r\n    });\r\n    const handleChangepass = (e) => {\r\n        e.preventDefault();\r\n        if (formik.errors.matKhau) {\r\n            return;\r\n        } else {\r\n            Swal.fire({\r\n                icon: 'question',\r\n                title: 'Đổi mật khẩu!',\r\n                text: 'Bạn có muốn đổi mật khẩu!',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Ok',\r\n                cancelButtonText: 'Không'\r\n            }).then((info) => {\r\n                if (info.isConfirmed) {\r\n                    dispatch(CapNhatNguoiDungAction(formik.values));\r\n                }\r\n\r\n\r\n            });\r\n            ;\r\n        }\r\n    };\r\n    const handleBlur = () => {\r\n        setDisabled(false);\r\n    };\r\n    let disabledClass = disabled ? 'disable-btn cursor-not-allowed' : '';\r\n    return (\r\n        <div style={{ height: 550, margin: \"65px\", padding: \"30px\", backgroundColor: 'white', borderRadius: 20 }} className='profile'>\r\n            <Tabs tabPosition={\"left\"} activeKey={key} onChange={(key) => {\r\n                dispatch({\r\n                    type: 'CHANGE_KEY',\r\n                    key\r\n                });\r\n            }}>\r\n                <TabPane tab={<div style={{ textTransform: 'uppercase', fontSize: 14 }} className='text-gray-600 font-semibold '>\r\n                    {t('profile.thongtintaikhoan')}\r\n                </div>} key=\"1\" >\r\n                    <div className='flex justify-center items-center'>\r\n                        <form className=\"w-full max-w-lg\" onSubmit={formik.handleSubmit}>\r\n                            <h3 className='text-center'>{t('profile.thongtintaikhoan')}</h3>\r\n                            <div className=\"flex flex-wrap -mx-3 mb-6\">\r\n                                <div className=\"w-full md:w-1/2 px-3 mb-6 md:mb-0\">\r\n                                    <label className=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\" htmlFor=\"grid-first-name\">\r\n                                        {t('profile.hoten')}\r\n                                    </label>\r\n                                    <input name='hoTen' onChange={formik.handleChange} onBlur={handleBlur} value={formik.values.hoTen} className=\"appearance-none block w-full bg-gray-200 text-gray-700 border  rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\" id=\"grid-first-name\" type=\"text\" placeholder=\"Jane\" />\r\n                                    <p className=\"text-red-500 text-xs italic\">{formik.errors.hoTen}</p>\r\n                                </div>\r\n                                <div className=\"w-full md:w-1/2 px-3\">\r\n                                    <label className=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\" htmlFor=\"grid-last-name\">\r\n                                        {t('profile.email')}\r\n                                    </label>\r\n                                    <input value={formik.values.email} onBlur={handleBlur} name='email' onChange={formik.handleChange} className=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\" id=\"grid-last-name\" type=\"text\" placeholder=\"Doe@gmail.com\" />\r\n                                    <p className=\"text-red-500 text-xs italic\">{formik.errors.email}</p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex flex-wrap -mx-3 mb-6\">\r\n                                <div className=\"w-full md:w-1/2 px-3\">\r\n                                    <label className=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\" htmlFor=\"grid-password\">\r\n                                        {t('profile.taikhoan')}\r\n                                    </label>\r\n                                    <input onBlur={handleBlur} value={formik.values.taiKhoan} name='taiKhoan' onChange={formik.handleChange} disabled='true' className=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\" id=\"grid-password\" type=\"text\" placeholder=\"HelloTix123\" />\r\n                                    <p className=\"text-gray-600 text-xs italic\">Không thể chỉnh sửa</p>\r\n                                </div>\r\n                                <div className=\"w-full md:w-1/2 px-3\">\r\n                                    <label className=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\" htmlFor=\"grid-last-name\">\r\n                                        {t('profile.sodienthoai')}\r\n                                    </label>\r\n                                    <input onBlur={handleBlur} value={formik.values.soDt} name='soDt' onChange={formik.handleChange} className=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\" id=\"grid-last-name\" type=\"number\" placeholder=\"08659525\" />\r\n                                    <p className=\"text-red-500 text-xs italic\">{formik.errors.soDt}</p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"md:w-2/3 text-center\">\r\n\r\n                                <button disabled={disabled} className={`shadow bg-yellow-600  focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded ${disabledClass}`} type=\"submit\">\r\n                                    {t('profile.update')}\r\n                                </button>\r\n                            </div>\r\n\r\n\r\n                        </form>\r\n\r\n                    </div>\r\n                </TabPane>\r\n                <TabPane tab={<div style={{ textTransform: 'uppercase', fontSize: 14 }} className='text-gray-600 font-semibold'>\r\n                    {t('profile.doimatkhau')}\r\n                </div>} key='2'>\r\n                    <div className='flex justify-center items-center'>\r\n                        <form className=\"w-full max-w-lg\" onSubmit={handleChangepass}>\r\n                            <h3 className='text-center'>{t('profile.doimatkhau')}</h3>\r\n                            <div className=\"flex flex-wrap -mx-3 mb-6\">\r\n                                <div className=\"md:w-full w-1/2 px-3 mb-6 md:mb-0\">\r\n                                    <label className=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\" htmlFor=\"grid-first-name\">\r\n                                        {t('profile.matkhaucu')}\r\n                                    </label>\r\n                                    <input disabled name='hoTen' onChange={formik.handleChange} value={thongTinTaiKhoan.matKhau} className=\"appearance-none block w-full bg-gray-200 text-gray-700 border  rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\" id=\"grid-first-name\" type=\"text\" placeholder=\"Jane\" />\r\n                                    <p className=\"text-gray-600 text-xs italic\"> {t('profile.khongthechinhsua')}</p>\r\n                                </div>\r\n                                <div className=\"md:w-full w-1/2 px-3\">\r\n                                    <label className=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\" htmlFor=\"grid-last-name\">\r\n                                        {t('profile.matkhaumoi')}\r\n                                    </label>\r\n                                    <input name='matKhau' onChange={formik.handleChange} className=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\" id=\"grid-last-name\" type=\"password\" placeholder=\"*************\" />\r\n                                    <p className=\"text-red-500 text-xs italic\">{formik.errors.matKhau}</p>\r\n                                </div>\r\n                                <div className=\"md:w-full w-1/2 px-3\">\r\n                                    <label className=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\" htmlFor=\"grid-last-name\">\r\n                                        {t('profile.xacnhanmatkhau')}\r\n                                    </label>\r\n                                    <input name='xacNhanMatKhau' onChange={formik.handleChange} className=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\" id=\"grid-last-name\" type=\"password\" placeholder=\"*************\" />\r\n                                    <p className=\"text-red-500 text-xs italic\">{formik.errors.xacNhanMatKhau}</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"md:w-2/3 text-center\">\r\n\r\n                                <button className={`shadow bg-yellow-600  focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded`} type=\"submit\">\r\n                                    {t('profile.doimatkhau')}\r\n                                </button>\r\n                            </div>\r\n\r\n\r\n                        </form>\r\n                    </div>\r\n                </TabPane>\r\n\r\n            </Tabs>\r\n        </div>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}