{"ast":null,"code":"import _slicedToArray from\"C:/Users/ADMIN/Desktop/BaiHocReactjs/reactjs_bai5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Form,Input,Button,Radio,Select,Cascader,DatePicker,InputNumber,TreeSelect,Switch}from'antd';import{useFormik}from'formik';import moment from'moment';import{useDispatch}from'react-redux';import{themPhimUploadHinhAction}from'../../../redux/actions/QuanLyPhimAction';import{GROUPID}from'../../../util/settings/config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AddFilms(){var _useState=useState('default'),_useState2=_slicedToArray(_useState,2),componentSize=_useState2[0],setComponentSize=_useState2[1];var _useState3=useState('https://cdn1.iconfinder.com/data/icons/web-design-7/64/choose-image-picture-illustration-512.png'),_useState4=_slicedToArray(_useState3,2),imgSrc=_useState4[0],setImgSrc=_useState4[1];var dispatch=useDispatch();var onFormLayoutChange=function onFormLayoutChange(_ref){var size=_ref.size;setComponentSize(size);};var formik=useFormik({initialValues:{tenPhim:'',trailer:'',moTa:'',ngayKhoiChieu:'',dangChieu:false,sapChieu:false,hot:false,danhGia:0,hinhAnh:{}},onSubmit:function onSubmit(values){values.maNhom=GROUPID;var formData=new FormData();for(var key in values){if(key!=='hinhAnh'){formData.append(key,values[key]);}else{formData.append('File',values.hinhAnh,values.hinhAnh.name);}}dispatch(themPhimUploadHinhAction(formData));}});var handleChangeDatePicker=function handleChangeDatePicker(value){formik.setFieldValue('ngayKhoiChieu',moment(value).format(\"DD/MM/YYYY\"));};var handleChangeSwitch=function handleChangeSwitch(name){return function(value){formik.setFieldValue(name,value);};};var handleChangeInputNumber=function handleChangeInputNumber(name){return function(value){formik.setFieldValue(name,value);};};var handleChangeFile=function handleChangeFile(e){//Lấy file ra từ e\nvar file=e.target.files[0];if(file.type==='image/jpeg'||file.type==='image/jpg'||file.type==='image/png'){//tạo đối tượng đọc file\nvar reader=new FileReader();reader.readAsDataURL(file);reader.onload=function(e){setImgSrc(e.target.result);};formik.setFieldValue('hinhAnh',file);}};return/*#__PURE__*/_jsxs(Form,{onSubmitCapture:formik.handleSubmit,labelCol:{span:4},wrapperCol:{span:14},layout:\"horizontal\",initialValues:{size:componentSize},onValuesChange:onFormLayoutChange,size:componentSize,children:[/*#__PURE__*/_jsx(Form.Item,{label:\"Form Size\",name:\"size\",children:/*#__PURE__*/_jsxs(Radio.Group,{children:[/*#__PURE__*/_jsx(Radio.Button,{value:\"small\",children:\"Small\"}),/*#__PURE__*/_jsx(Radio.Button,{value:\"default\",children:\"Default\"}),/*#__PURE__*/_jsx(Radio.Button,{value:\"large\",children:\"Large\"})]})}),/*#__PURE__*/_jsx(Form.Item,{label:\"T\\xEAn phim\",children:/*#__PURE__*/_jsx(Input,{name:\"tenPhim\",onChange:formik.handleChange})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Trailer\",children:/*#__PURE__*/_jsx(Input,{name:\"trailer\",onChange:formik.handleChange})}),/*#__PURE__*/_jsx(Form.Item,{label:\"M\\xF4 t\\u1EA3\",children:/*#__PURE__*/_jsx(Input,{name:\"moTa\",onChange:formik.handleChange})}),/*#__PURE__*/_jsx(Form.Item,{label:\"\\u0110ang chi\\u1EBFu\",children:/*#__PURE__*/_jsx(Switch,{onChange:handleChangeSwitch('dangChieu')})}),/*#__PURE__*/_jsx(Form.Item,{label:\"S\\u1EAFp chi\\u1EBFu\",children:/*#__PURE__*/_jsx(Switch,{onChange:handleChangeSwitch('sapChieu')})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Hot\",children:/*#__PURE__*/_jsx(Switch,{onChange:handleChangeSwitch('hot')})}),/*#__PURE__*/_jsx(Form.Item,{label:\"\\u0110\\xE1nh gi\\xE1\",children:/*#__PURE__*/_jsx(InputNumber,{min:\"1\",max:\"10\",onChange:handleChangeInputNumber('danhGia')})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Ng\\xE0y kh\\u1EDFi chi\\u1EBFu\",children:/*#__PURE__*/_jsx(DatePicker,{format:\"DD/MM/YYYY\",onChange:handleChangeDatePicker})}),/*#__PURE__*/_jsxs(Form.Item,{label:\"H\\xECnh \\u1EA3nh\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleChangeFile}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"img\",{src:imgSrc,style:{width:100,height:100}})]}),/*#__PURE__*/_jsx(Form.Item,{label:\"T\\xE1c v\\u1EE5\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-700 text-white p-2\",children:\"Th\\xEAm phim\"})})]});}","map":{"version":3,"sources":["C:/Users/ADMIN/Desktop/BaiHocReactjs/reactjs_bai5/src/pages/Admin/Films/AddFilms.js"],"names":["React","useState","Form","Input","Button","Radio","Select","Cascader","DatePicker","InputNumber","TreeSelect","Switch","useFormik","moment","useDispatch","themPhimUploadHinhAction","GROUPID","AddFilms","componentSize","setComponentSize","imgSrc","setImgSrc","dispatch","onFormLayoutChange","size","formik","initialValues","tenPhim","trailer","moTa","ngayKhoiChieu","dangChieu","sapChieu","hot","danhGia","hinhAnh","onSubmit","values","maNhom","formData","FormData","key","append","name","handleChangeDatePicker","value","setFieldValue","format","handleChangeSwitch","handleChangeInputNumber","handleChangeFile","e","file","target","files","type","reader","FileReader","readAsDataURL","onload","result","handleSubmit","span","handleChange","width","height"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n    Form,\r\n    Input,\r\n    Button,\r\n    Radio,\r\n    Select,\r\n    Cascader,\r\n    DatePicker,\r\n    InputNumber,\r\n    TreeSelect,\r\n    Switch,\r\n} from 'antd';\r\nimport { useFormik } from 'formik';\r\nimport moment from 'moment';\r\nimport { useDispatch } from 'react-redux';\r\nimport { themPhimUploadHinhAction } from '../../../redux/actions/QuanLyPhimAction';\r\nimport { GROUPID } from '../../../util/settings/config';\r\n\r\n\r\n\r\nexport default function AddFilms() {\r\n    const [ componentSize, setComponentSize ] = useState('default');\r\n    const [ imgSrc, setImgSrc ] = useState('https://cdn1.iconfinder.com/data/icons/web-design-7/64/choose-image-picture-illustration-512.png');\r\n    const dispatch = useDispatch();\r\n    const onFormLayoutChange = ({ size }) => {\r\n        setComponentSize(size);\r\n    };\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            tenPhim: '',\r\n            trailer: '',\r\n            moTa: '',\r\n            ngayKhoiChieu: '',\r\n            dangChieu: false,\r\n            sapChieu: false,\r\n            hot: false,\r\n            danhGia: 0,\r\n            hinhAnh: {}\r\n        },\r\n        onSubmit: (values) => {\r\n            values.maNhom = GROUPID;\r\n            let formData = new FormData();\r\n            for (let key in values) {\r\n                if (key !== 'hinhAnh') {\r\n                    formData.append(key, values[ key ]);\r\n                } else {\r\n                    formData.append('File', values.hinhAnh, values.hinhAnh.name);\r\n                }\r\n\r\n            }\r\n            dispatch(themPhimUploadHinhAction(formData));\r\n        }\r\n    });\r\n    const handleChangeDatePicker = (value) => {\r\n        formik.setFieldValue('ngayKhoiChieu', moment(value).format(\"DD/MM/YYYY\"));\r\n    };\r\n    const handleChangeSwitch = (name) => {\r\n        return (value) => {\r\n            formik.setFieldValue(name, value);\r\n        };\r\n    };\r\n    const handleChangeInputNumber = (name) => {\r\n        return (value) => {\r\n            formik.setFieldValue(name, value);\r\n        };\r\n    };\r\n    const handleChangeFile = (e) => {\r\n        //Lấy file ra từ e\r\n        let file = e.target.files[ 0 ];\r\n        if (file.type === 'image/jpeg' || file.type === 'image/jpg' || file.type === 'image/png') {\r\n            //tạo đối tượng đọc file\r\n            let reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = (e) => {\r\n                setImgSrc(e.target.result);\r\n            };\r\n            formik.setFieldValue('hinhAnh', file);\r\n        }\r\n\r\n    };\r\n\r\n    return (\r\n        <Form\r\n            onSubmitCapture={formik.handleSubmit}\r\n            labelCol={{\r\n                span: 4,\r\n            }}\r\n            wrapperCol={{\r\n                span: 14,\r\n            }}\r\n            layout=\"horizontal\"\r\n            initialValues={{\r\n                size: componentSize,\r\n            }}\r\n            onValuesChange={onFormLayoutChange}\r\n            size={componentSize}\r\n        >\r\n            <Form.Item label=\"Form Size\" name=\"size\">\r\n                <Radio.Group>\r\n                    <Radio.Button value=\"small\">Small</Radio.Button>\r\n                    <Radio.Button value=\"default\">Default</Radio.Button>\r\n                    <Radio.Button value=\"large\">Large</Radio.Button>\r\n                </Radio.Group>\r\n            </Form.Item>\r\n            <Form.Item label=\"Tên phim\">\r\n                <Input name=\"tenPhim\" onChange={formik.handleChange} />\r\n            </Form.Item>\r\n            <Form.Item label=\"Trailer\">\r\n                <Input name=\"trailer\" onChange={formik.handleChange} />\r\n            </Form.Item>\r\n            <Form.Item label=\"Mô tả\">\r\n                <Input name=\"moTa\" onChange={formik.handleChange} />\r\n            </Form.Item>\r\n            <Form.Item label=\"Đang chiếu\">\r\n                <Switch onChange={handleChangeSwitch('dangChieu')} />\r\n            </Form.Item>\r\n            <Form.Item label=\"Sắp chiếu\" >\r\n                <Switch onChange={handleChangeSwitch('sapChieu')} />\r\n            </Form.Item>\r\n            <Form.Item label=\"Hot\" >\r\n                <Switch onChange={handleChangeSwitch('hot')} />\r\n            </Form.Item>\r\n            <Form.Item label=\"Đánh giá\">\r\n                <InputNumber min='1' max='10' onChange={handleChangeInputNumber('danhGia')} />\r\n            </Form.Item>\r\n            <Form.Item label=\"Ngày khởi chiếu\">\r\n                <DatePicker format=\"DD/MM/YYYY\" onChange={handleChangeDatePicker} />\r\n            </Form.Item>\r\n            <Form.Item label=\"Hình ảnh\">\r\n                <input type=\"file\" onChange={handleChangeFile} />\r\n                <br />\r\n                <img src={imgSrc} style={{ width: 100, height: 100 }} />\r\n\r\n            </Form.Item>\r\n            <Form.Item label=\"Tác vụ\">\r\n                <button type=\"submit\" className='bg-blue-700 text-white p-2'>Thêm phim</button>\r\n            </Form.Item>\r\n        </Form>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}