{"ast":null,"code":"import React,{Fragment,useEffect}from'react';import{Table,Input}from'antd';import{useDispatch,useSelector}from'react-redux';import{layDanhSachPhimAction,XoaPhimAction}from'../../../redux/actions/QuanLyPhimAction';import{NavLink}from'react-router-dom';import{EditTwoTone,DeleteTwoTone,CalendarOutlined,DeleteOutlined}from'@ant-design/icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=Input.Search;export default function Films(){var _useSelector=useSelector(function(state){return state.QuanLyPhimReducer;}),arrDefault=_useSelector.arrDefault;var dispatch=useDispatch();useEffect(function(){dispatch(layDanhSachPhimAction());},[]);var data=arrDefault;function onChange(pagination,filters,sorter,extra){console.log('params',pagination,filters,sorter,extra);}var columns=[{title:'Mã phim',dataIndex:'maPhim',filterMode:'tree',filterSearch:true,sorter:function sorter(a,b){return a.maPhim-b.maPhim;},width:'10%'},{title:'Hình ảnh',dataIndex:'hinhAnh',render:function render(text,films,index){return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"img\",{src:films.hinhAnh,alt:text,width:50,height:50,onError:function onError(e){e.target.onError=null;e.target.src=\"https://picsum.photos/id/\".concat(index,\"/50/50\");}})});}},{title:'Tên phim',dataIndex:'tenPhim',sorter:function sorter(a,b){return a.tenPhim.length-b.tenPhim.length;}},{title:'Mô tả',dataIndex:'moTa',render:function render(text,film,index){return/*#__PURE__*/_jsx(Fragment,{children:film.moTa.length>50?film.moTa.substr(0,50)+'....':film.moTa});},sorter:function sorter(a,b){return a.moTa.length-b.moTa.length;}},{title:'Trailer',dataIndex:'trailer',render:function render(text,film,index){return/*#__PURE__*/_jsx(\"a\",{href:film.trailer,target:\"_blank\",children:\"Link trailer\"});}},{title:'Hành động',dataIndex:'hanhDong',render:function render(text,film,index){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(NavLink,{className:\"text-2xl\",to:\"/mainAdmin/films/edit/\".concat(film.maPhim),children:/*#__PURE__*/_jsx(EditTwoTone,{style:{color:'blue'}})},'1'),/*#__PURE__*/_jsx(\"span\",{to:\"/\",className:\"text-2xl mx-5\",onClick:function onClick(){if(window.confirm('Bạn có chắc chắc muốn xóa phim '+film.tenPhim)){dispatch(XoaPhimAction(film.maPhim));}},children:/*#__PURE__*/_jsx(DeleteOutlined,{style:{color:'red'}})},'2'),/*#__PURE__*/_jsx(NavLink,{to:\"/mainAdmin/showtimes/\".concat(film.maPhim,\"/\").concat(film.tenPhim),className:\"text-2xl\",onClick:function onClick(){localStorage.setItem('filmParams',JSON.stringify(film));},children:/*#__PURE__*/_jsx(CalendarOutlined,{style:{color:'green'}})},'3')]});}}];var onSearch=function onSearch(value){dispatch(layDanhSachPhimAction(value));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Qu\\u1EA3n l\\xFD phim\"}),/*#__PURE__*/_jsx(Search,{className:\"my-5\",placeholder:\"input search text\",allowClear:true,enterButton:\"Search\",size:\"large\",onSearch:onSearch}),/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:data,onChange:onChange})]});}","map":{"version":3,"sources":["C:/Users/ADMIN/Desktop/BaiHocReactjs/reactjs_bai5/src/pages/Admin/Films/Films.js"],"names":["React","Fragment","useEffect","Table","Input","useDispatch","useSelector","layDanhSachPhimAction","XoaPhimAction","NavLink","EditTwoTone","DeleteTwoTone","CalendarOutlined","DeleteOutlined","Search","Films","state","QuanLyPhimReducer","arrDefault","dispatch","data","onChange","pagination","filters","sorter","extra","console","log","columns","title","dataIndex","filterMode","filterSearch","a","b","maPhim","width","render","text","films","index","hinhAnh","e","target","onError","src","tenPhim","length","film","moTa","substr","trailer","color","window","confirm","localStorage","setItem","JSON","stringify","onSearch","value"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect } from 'react';\r\nimport { Table, Input } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { layDanhSachPhimAction, XoaPhimAction } from '../../../redux/actions/QuanLyPhimAction';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { EditTwoTone, DeleteTwoTone, CalendarOutlined, DeleteOutlined } from '@ant-design/icons';\r\n\r\nconst { Search } = Input;\r\n\r\nexport default function Films() {\r\n    const { arrDefault } = useSelector(state => state.QuanLyPhimReducer);\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        dispatch(layDanhSachPhimAction());\r\n    }, []);\r\n    const data = arrDefault;\r\n    function onChange(pagination, filters, sorter, extra) {\r\n        console.log('params', pagination, filters, sorter, extra);\r\n    }\r\n    const columns = [\r\n        {\r\n            title: 'Mã phim',\r\n            dataIndex: 'maPhim',\r\n            filterMode: 'tree',\r\n            filterSearch: true,\r\n            sorter: (a, b) => a.maPhim - b.maPhim,\r\n            width: '10%',\r\n        },\r\n        {\r\n            title: 'Hình ảnh',\r\n            dataIndex: 'hinhAnh',\r\n            render: (text, films, index) => {\r\n                return <Fragment>\r\n                    <img src={films.hinhAnh} alt={text} width={50} height={50} onError={(e) => {\r\n                        e.target.onError = null;\r\n                        e.target.src = `https://picsum.photos/id/${index}/50/50`;\r\n                    }} />\r\n\r\n                </Fragment>;\r\n            },\r\n        },\r\n        {\r\n            title: 'Tên phim',\r\n            dataIndex: 'tenPhim',\r\n            sorter: (a, b) => a.tenPhim.length - b.tenPhim.length,\r\n\r\n        },\r\n        {\r\n            title: 'Mô tả',\r\n            dataIndex: 'moTa',\r\n            render: (text, film, index) => {\r\n                return <Fragment>\r\n                    {film.moTa.length > 50 ? film.moTa.substr(0, 50) + '....' : film.moTa}\r\n                </Fragment>;\r\n            },\r\n            sorter: (a, b) => a.moTa.length - b.moTa.length,\r\n\r\n        },\r\n        {\r\n            title: 'Trailer',\r\n            dataIndex: 'trailer',\r\n            render: (text, film, index) => {\r\n                return <a href={film.trailer} target=\"_blank\">\r\n                    Link trailer\r\n                </a>;\r\n            },\r\n\r\n        },\r\n        {\r\n            title: 'Hành động',\r\n            dataIndex: 'hanhDong',\r\n            render: (text, film, index) => {\r\n                return <Fragment>\r\n                    <NavLink key='1' className='text-2xl' to={`/mainAdmin/films/edit/${film.maPhim}`}><EditTwoTone style={{ color: 'blue' }} /></NavLink>\r\n                    <span key='2' to=\"/\" className='text-2xl mx-5' onClick={() => {\r\n                        if (window.confirm('Bạn có chắc chắc muốn xóa phim ' + film.tenPhim)) {\r\n                            dispatch(XoaPhimAction(film.maPhim));\r\n                        }\r\n                    }}><DeleteOutlined style={{ color: 'red' }} /></span>\r\n                    <NavLink key='3' to={`/mainAdmin/showtimes/${film.maPhim}/${film.tenPhim}`} className='text-2xl' onClick={() => {\r\n                        localStorage.setItem('filmParams', JSON.stringify(film));\r\n                    }}><CalendarOutlined style={{ color: 'green' }} /></NavLink>\r\n                </Fragment>;\r\n            },\r\n\r\n        },\r\n    ];\r\n    const onSearch = (value) => {\r\n        dispatch(layDanhSachPhimAction(value));\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h3>Quản lý phim</h3>\r\n            <Search\r\n                className='my-5'\r\n                placeholder=\"input search text\"\r\n                allowClear\r\n                enterButton=\"Search\"\r\n                size=\"large\"\r\n                onSearch={onSearch}\r\n            />\r\n            <Table columns={columns} dataSource={data} onChange={onChange} />\r\n        </div>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}