{"ast":null,"code":"import { quanLyDatVeService } from \"../../service/QuanLyDatVeService\";\nimport { DISPLAY_LOADING, HIDE_LOADING } from \"../../util/settings/config\";\nimport { CHUYEN_TAB, DAT_VE_HOAN_TAT, SET_CHI_TIET_PHONG_VE } from \"../types/QuanLyDatVeType\";\nexport const layChiTietPhongVeAction = maLichChieu => {\n  return async dispatch => {\n    try {\n      dispatch({\n        type: DISPLAY_LOADING\n      });\n      const result = await quanLyDatVeService.layChiTietPhongVe(maLichChieu);\n      console.log(result);\n\n      if (result.status === 200) {\n        dispatch({\n          type: SET_CHI_TIET_PHONG_VE,\n          chiTietPhongVe: result.data.content\n        });\n      }\n    } catch (error) {\n      console.log('error', error);\n    }\n  };\n};\nexport const datVeAction = thongtinDatVe => {\n  return async dispatch => {\n    try {\n      dispatch({\n        type: DISPLAY_LOADING\n      });\n      const result = await quanLyDatVeService.datVe(thongtinDatVe);\n      console.log(result);\n      await dispatch(layChiTietPhongVeAction(thongtinDatVe.maLichChieu));\n      await dispatch({\n        type: DAT_VE_HOAN_TAT\n      });\n      await dispatch({\n        type: HIDE_LOADING\n      });\n      dispatch({\n        type: CHUYEN_TAB\n      });\n    } catch (err) {\n      dispatch({\n        type: HIDE_LOADING\n      });\n      console.log(err);\n    }\n  };\n};","map":{"version":3,"sources":["C:/Users/ADMIN/Desktop/BaiHocReactjs/reactjs_bai5/src/redux/actions/QuanLyDatVeAction.js"],"names":["quanLyDatVeService","DISPLAY_LOADING","HIDE_LOADING","CHUYEN_TAB","DAT_VE_HOAN_TAT","SET_CHI_TIET_PHONG_VE","layChiTietPhongVeAction","maLichChieu","dispatch","type","result","layChiTietPhongVe","console","log","status","chiTietPhongVe","data","content","error","datVeAction","thongtinDatVe","datVe","err"],"mappings":"AAAA,SAASA,kBAAT,QAAmC,kCAAnC;AACA,SAASC,eAAT,EAA0BC,YAA1B,QAA8C,4BAA9C;AACA,SAASC,UAAT,EAAqBC,eAArB,EAAsCC,qBAAtC,QAAmE,0BAAnE;AAEA,OAAO,MAAMC,uBAAuB,GAAIC,WAAD,IAAiB;AACpD,SAAO,MAAOC,QAAP,IAAoB;AACvB,QAAI;AACAA,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAER;AADD,OAAD,CAAR;AAGA,YAAMS,MAAM,GAAG,MAAMV,kBAAkB,CAACW,iBAAnB,CAAqCJ,WAArC,CAArB;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;;AACA,UAAIA,MAAM,CAACI,MAAP,KAAkB,GAAtB,EAA2B;AACvBN,QAAAA,QAAQ,CAAC;AACLC,UAAAA,IAAI,EAAEJ,qBADD;AAELU,UAAAA,cAAc,EAAEL,MAAM,CAACM,IAAP,CAAYC;AAFvB,SAAD,CAAR;AAIH;AACJ,KAZD,CAYE,OAAOC,KAAP,EAAc;AACZN,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBK,KAArB;AACH;AACJ,GAhBD;AAiBH,CAlBM;AAmBP,OAAO,MAAMC,WAAW,GAAIC,aAAD,IAAmB;AAC1C,SAAO,MAAOZ,QAAP,IAAoB;AAEvB,QAAI;AACAA,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAER;AADD,OAAD,CAAR;AAGA,YAAMS,MAAM,GAAG,MAAMV,kBAAkB,CAACqB,KAAnB,CAAyBD,aAAzB,CAArB;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,YAAMF,QAAQ,CAACF,uBAAuB,CAACc,aAAa,CAACb,WAAf,CAAxB,CAAd;AACA,YAAMC,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEL;AAAR,OAAD,CAAd;AAEA,YAAMI,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEP;AAAR,OAAD,CAAd;AACAM,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAEN;AADD,OAAD,CAAR;AAIH,KAdD,CAcE,OAAOmB,GAAP,EAAY;AACVd,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAEP;AADD,OAAD,CAAR;AAGAU,MAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;AACH;AAEJ,GAvBD;AAwBH,CAzBM","sourcesContent":["import { quanLyDatVeService } from \"../../service/QuanLyDatVeService\";\r\nimport { DISPLAY_LOADING, HIDE_LOADING } from \"../../util/settings/config\";\r\nimport { CHUYEN_TAB, DAT_VE_HOAN_TAT, SET_CHI_TIET_PHONG_VE } from \"../types/QuanLyDatVeType\";\r\n\r\nexport const layChiTietPhongVeAction = (maLichChieu) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            dispatch({\r\n                type: DISPLAY_LOADING\r\n            });\r\n            const result = await quanLyDatVeService.layChiTietPhongVe(maLichChieu);\r\n            console.log(result);\r\n            if (result.status === 200) {\r\n                dispatch({\r\n                    type: SET_CHI_TIET_PHONG_VE,\r\n                    chiTietPhongVe: result.data.content\r\n                });\r\n            }\r\n        } catch (error) {\r\n            console.log('error', error);\r\n        }\r\n    };\r\n};\r\nexport const datVeAction = (thongtinDatVe) => {\r\n    return async (dispatch) => {\r\n\r\n        try {\r\n            dispatch({\r\n                type: DISPLAY_LOADING\r\n            });\r\n            const result = await quanLyDatVeService.datVe(thongtinDatVe);\r\n            console.log(result);\r\n            await dispatch(layChiTietPhongVeAction(thongtinDatVe.maLichChieu));\r\n            await dispatch({ type: DAT_VE_HOAN_TAT });\r\n\r\n            await dispatch({ type: HIDE_LOADING });\r\n            dispatch({\r\n                type: CHUYEN_TAB\r\n            });\r\n\r\n        } catch (err) {\r\n            dispatch({\r\n                type: HIDE_LOADING\r\n            });\r\n            console.log(err);\r\n        }\r\n\r\n    };\r\n};"]},"metadata":{},"sourceType":"module"}