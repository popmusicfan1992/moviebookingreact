{"ast":null,"code":"import _objectSpread from\"C:/Users/ADMIN/Desktop/BaiHocReactjs/reactjs_bai5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/ADMIN/Desktop/BaiHocReactjs/reactjs_bai5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"C:/Users/ADMIN/Desktop/BaiHocReactjs/reactjs_bai5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"Component\"];import{Fragment,useEffect,useState}from\"react\";import{useSelector}from\"react-redux\";import{Redirect,Route}from\"react-router\";import{TOKEN,USER_LOGIN}from\"../../util/settings/config\";import{Layout,Menu,Breadcrumb}from'antd';import{DesktopOutlined,PieChartOutlined,FileOutlined,TeamOutlined,UserOutlined}from'@ant-design/icons';import{NavLink}from\"react-router-dom\";import _ from\"lodash\";import{history}from\"../../App\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=Layout.Header,Content=Layout.Content,Footer=Layout.Footer,Sider=Layout.Sider;var SubMenu=Menu.SubMenu;var AdminTemplate=function AdminTemplate(props){//path, exact, Component\nvar Component=props.Component,restProps=_objectWithoutProperties(props,_excluded);var _useSelector=useSelector(function(state){return state.QuanLyNguoiDungReducer;}),userLogin=_useSelector.userLogin;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),collapsed=_useState2[0],setCollapsed=_useState2[1];var onCollapse=function onCollapse(collapsed){// console.log(collapsed);\nsetCollapsed(collapsed);};useEffect(function(){window.scrollTo(0,0);});if(!localStorage.getItem(USER_LOGIN)){alert('Bạn không có quyền truy cập vào trang này !');return/*#__PURE__*/_jsx(Redirect,{to:\"/admin\"});}if(userLogin.maLoaiNguoiDung!=='QuanTri'){alert('Bạn không có quyền truy cập vào trang này !');return/*#__PURE__*/_jsx(Redirect,{to:\"/admin\"});}var operations=/*#__PURE__*/_jsx(Fragment,{children:!_.isEmpty(userLogin)?/*#__PURE__*/_jsxs(Fragment,{children:[\" \",/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){history.push('/profile');},children:[\" \",/*#__PURE__*/_jsxs(\"div\",{style:{width:50,height:50,display:'flex',justifyContent:'center',alignItems:'center'},className:\"text-2xl ml-5 rounded-full bg-red-200\",children:[userLogin.taiKhoan.substr(0,1),\"  \"]})]}),\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"text-white mx-5\",children:[\"Hello ! \",userLogin.taiKhoan]}),\" \",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){localStorage.removeItem(USER_LOGIN);localStorage.removeItem(TOKEN);history.push('/home');window.location.reload();},className:\"text-blue-800\",children:\"\\u0110\\u0103ng xu\\u1EA5t\"}),\" \"]}):''});return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},restProps),{},{render:function render(propsRoute){//props.location,props.history,props.match\nreturn/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(Layout,{style:{minHeight:'100vh'},children:[/*#__PURE__*/_jsxs(Sider,{collapsible:true,collapsed:collapsed,onCollapse:onCollapse,children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo p-5\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://tix.vn/app/assets/img/icons/app/logo.png\",alt:\"...\"})}),/*#__PURE__*/_jsxs(Menu,{theme:\"dark\",defaultSelectedKeys:['1'],mode:\"inline\",children:[/*#__PURE__*/_jsxs(SubMenu,{icon:/*#__PURE__*/_jsx(UserOutlined,{}),title:\"User\",children:[/*#__PURE__*/_jsx(Menu.Item,{children:/*#__PURE__*/_jsx(NavLink,{to:\"/mainAdmin/users\",children:\"Users\"})},\"1\"),/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(FileOutlined,{}),children:/*#__PURE__*/_jsx(NavLink,{to:\"/mainAdmin/users/edituser/:user\",children:\"Add/Edit User\"})},\"2\")]},\"sub2\"),/*#__PURE__*/_jsxs(SubMenu,{icon:/*#__PURE__*/_jsx(FileOutlined,{}),title:\"Films\",children:[/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(FileOutlined,{}),children:/*#__PURE__*/_jsx(NavLink,{to:\"/mainAdmin/films\",children:\"Films\"})},\"10\"),/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(FileOutlined,{}),children:/*#__PURE__*/_jsx(NavLink,{to:\"/mainAdmin/addfilms\",children:\"Add new\"})},\"11\")]},\"sub1\"),/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(DesktopOutlined,{}),children:/*#__PURE__*/_jsx(NavLink,{to:\"/mainAdmin/showtimes/:id/:tenphim\",children:\"Showtime\"})},\"3\")]})]}),/*#__PURE__*/_jsxs(Layout,{className:\"site-layout\",children:[/*#__PURE__*/_jsx(Header,{className:\"site-layout-background\",style:{padding:0},children:/*#__PURE__*/_jsx(\"div\",{className:\"text-right pr-10 pt-1\",children:operations})}),/*#__PURE__*/_jsxs(Content,{style:{margin:'0 16px'},children:[/*#__PURE__*/_jsx(Breadcrumb,{style:{margin:'16px 0'}}),/*#__PURE__*/_jsx(\"div\",{className:\"site-layout-background\",style:{padding:24,minHeight:'85vh'},children:/*#__PURE__*/_jsx(Component,_objectSpread({},propsRoute))})]}),/*#__PURE__*/_jsx(Footer,{style:{textAlign:'center'},children:\"Ant Design \\xA92018 Created by Ant UED\"})]})]})});}}));};export default AdminTemplate;","map":{"version":3,"sources":["C:/Users/ADMIN/Desktop/BaiHocReactjs/reactjs_bai5/src/templates/AdminTemplate/AdminTemplate.js"],"names":["Fragment","useEffect","useState","useSelector","Redirect","Route","TOKEN","USER_LOGIN","Layout","Menu","Breadcrumb","DesktopOutlined","PieChartOutlined","FileOutlined","TeamOutlined","UserOutlined","NavLink","_","history","Header","Content","Footer","Sider","SubMenu","AdminTemplate","props","Component","restProps","state","QuanLyNguoiDungReducer","userLogin","collapsed","setCollapsed","onCollapse","window","scrollTo","localStorage","getItem","alert","maLoaiNguoiDung","operations","isEmpty","push","width","height","display","justifyContent","alignItems","taiKhoan","substr","removeItem","location","reload","propsRoute","minHeight","padding","margin","textAlign"],"mappings":"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","sourcesContent":["import { Fragment, useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Redirect, Route } from \"react-router\";\r\nimport { TOKEN, USER_LOGIN } from \"../../util/settings/config\";\r\nimport { Layout, Menu, Breadcrumb } from 'antd';\r\nimport {\r\n    DesktopOutlined,\r\n    PieChartOutlined,\r\n    FileOutlined,\r\n    TeamOutlined,\r\n    UserOutlined,\r\n} from '@ant-design/icons';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport _ from \"lodash\";\r\nimport { history } from \"../../App\";\r\n\r\nconst { Header, Content, Footer, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\n\r\n\r\nconst AdminTemplate = (props) => { //path, exact, Component\r\n\r\n    const { Component, ...restProps } = props;\r\n    const { userLogin } = useSelector(state => state.QuanLyNguoiDungReducer);\r\n\r\n    const [ collapsed, setCollapsed ] = useState(false);\r\n\r\n    const onCollapse = collapsed => {\r\n        // console.log(collapsed);\r\n        setCollapsed(collapsed);\r\n    };\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n\r\n    });\r\n\r\n    if (!localStorage.getItem(USER_LOGIN)) {\r\n        alert('Bạn không có quyền truy cập vào trang này !');\r\n        return <Redirect to='/admin' />;\r\n    }\r\n\r\n    if (userLogin.maLoaiNguoiDung !== 'QuanTri') {\r\n        alert('Bạn không có quyền truy cập vào trang này !');\r\n        return <Redirect to='/admin' />;\r\n\r\n    }\r\n\r\n    const operations = <Fragment>\r\n        {!_.isEmpty(userLogin) ? <Fragment> <button onClick={() => {\r\n            history.push('/profile');\r\n        }}> <div style={{ width: 50, height: 50, display: 'flex', justifyContent: 'center', alignItems: 'center' }} className=\"text-2xl ml-5 rounded-full bg-red-200\">{userLogin.taiKhoan.substr(0, 1)}  </div></button> <span className='text-white mx-5'>Hello ! {userLogin.taiKhoan}</span> <button onClick={() => {\r\n            localStorage.removeItem(USER_LOGIN);\r\n            localStorage.removeItem(TOKEN);\r\n            history.push('/home');\r\n            window.location.reload();\r\n        }} className=\"text-blue-800\">Đăng xuất</button> </Fragment> : ''}\r\n    </Fragment>;\r\n\r\n\r\n    return <Route {...restProps} render={(propsRoute) => { //props.location,props.history,props.match\r\n\r\n        return <Fragment>\r\n            <Layout style={{ minHeight: '100vh' }}>\r\n                <Sider collapsible collapsed={collapsed} onCollapse={onCollapse}>\r\n                    <div className=\"logo p-5\">\r\n                        <img src=\"https://tix.vn/app/assets/img/icons/app/logo.png\" alt=\"...\" />\r\n                    </div>\r\n                    <Menu theme=\"dark\" defaultSelectedKeys={[ '1' ]} mode=\"inline\">\r\n                        <SubMenu key=\"sub2\" icon={<UserOutlined />} title='User'>\r\n                            <Menu.Item key=\"1\" >\r\n                                <NavLink to=\"/mainAdmin/users\">Users</NavLink>\r\n                            </Menu.Item>\r\n                            <Menu.Item key=\"2\" icon={<FileOutlined />}>\r\n                                <NavLink to=\"/mainAdmin/users/edituser/:user\">Add/Edit User</NavLink>\r\n\r\n\r\n                            </Menu.Item>\r\n                        </SubMenu>\r\n\r\n                        <SubMenu key=\"sub1\" icon={<FileOutlined />} title=\"Films\">\r\n                            <Menu.Item key=\"10\" icon={<FileOutlined />}>\r\n                                <NavLink to=\"/mainAdmin/films\">Films</NavLink>\r\n\r\n                            </Menu.Item>\r\n                            <Menu.Item key=\"11\" icon={<FileOutlined />}>\r\n                                <NavLink to=\"/mainAdmin/addfilms\">Add new</NavLink>\r\n\r\n\r\n                            </Menu.Item>\r\n                        </SubMenu>\r\n                        <Menu.Item key=\"3\" icon={<DesktopOutlined />}>\r\n                            <NavLink to=\"/mainAdmin/showtimes/:id/:tenphim\">Showtime</NavLink>\r\n\r\n                        </Menu.Item>\r\n                        {/* <SubMenu key=\"sub1\" icon={<UserOutlined />} title=\"User\">\r\n                            <Menu.Item key=\"3\">Tom</Menu.Item>\r\n                            <Menu.Item key=\"4\">Bill</Menu.Item>\r\n                            <Menu.Item key=\"5\">Alex</Menu.Item>\r\n                        </SubMenu>\r\n                        <SubMenu key=\"sub2\" icon={<TeamOutlined />} title=\"Team\">\r\n                            <Menu.Item key=\"6\">Team 1</Menu.Item>\r\n                            <Menu.Item key=\"8\">Team 2</Menu.Item>\r\n                        </SubMenu>\r\n                        <Menu.Item key=\"9\" icon={<FileOutlined />}>\r\n                            Files\r\n                        </Menu.Item> */}\r\n                    </Menu>\r\n                </Sider>\r\n                <Layout className=\"site-layout\">\r\n                    <Header className=\"site-layout-background\" style={{ padding: 0 }} >\r\n                        <div className=\"text-right pr-10 pt-1\">{operations}</div>\r\n                    </Header>\r\n                    <Content style={{ margin: '0 16px' }}>\r\n                        <Breadcrumb style={{ margin: '16px 0' }}>\r\n                            {/* <Breadcrumb.Item>User</Breadcrumb.Item>\r\n                            <Breadcrumb.Item>Bill</Breadcrumb.Item> */}\r\n                        </Breadcrumb>\r\n                        <div className=\"site-layout-background\" style={{ padding: 24, minHeight: '85vh' }}>\r\n                            <Component {...propsRoute} />\r\n                        </div>\r\n                    </Content>\r\n                    <Footer style={{ textAlign: 'center' }}>Ant Design ©2018 Created by Ant UED</Footer>\r\n                </Layout>\r\n            </Layout>\r\n        </Fragment>;\r\n    }} />;\r\n\r\n};\r\n\r\n\r\nexport default AdminTemplate;\r\n"]},"metadata":{},"sourceType":"module"}